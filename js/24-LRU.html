<!DOCTYPE html>
<html>
<head>
	<title></title>
</head>
<body>
<script type="text/javascript">
	/*
	1.添加按k-v方式添加，默认lru有一个最大存储空间
	2.添加时，如果满了，将最久未使用的删除
	3.获取返回key对应的value
	*/
	class LRU{
		constructor(size){
			this.size = size;
			this.map = new Map();
		}
		get(key){
			let tmp = this.map.has(key);
			if(!tmp)
				return null;
			let value = this.map.get(key);
			//1.删除key，放到末尾
			this.map.delete(key);
			this.map.set(key,value);
			return value;
		}
		//如果满了，头部的删除
		set(key,value){
			//如果是已经存在的添加，更新值
			if(this.map.has(key)){
				this.map.set(key,value);
			}else{
				if(this.map.size===this.size){
				//1.删除最开始的
				this.map.delete(this.map.keys().next().value);
				//2.添加最新的
				this.map.set(key,value);
				}else{
					this.map.set(key,value);
				}
				console.log(this.map);
			}	
		}
	}
	let m = new LRU(2);
	m.set(1,1);
	m.set(2,2);
	m.set(3,3);
	m.set(3,30);
	console.log(m.get(1));
	console.log(m.get(2));
	console.log(m.get(3));
</script>
</body>
</html>