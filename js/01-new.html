<!DOCTYPE html>
<html>
<head>
	<title></title>
</head>
<body>
<script type="text/javascript">
	/*
	手写new

	*/
	function myNew(obj,...args){
		//1.根据构造函数创建实例对象
		let newObj = Object.create(obj.prototype);
		//2.构造函数绑定到新对象上，接受其方法返回的值
		/*
		2.1 People将自己构造函数的this指向了新创建的对象newObj
		2.2 newObj.name = name;
		    newOnj.age = age;
		*/
		let result = obj.apply(newObj,args);
		//3.如果2是对象，返回。不是对象返回构造的实例对象
		return typeof result==='object'?result:newObj;
	}
	function Peo(name,age){
		this.name = name;
		this.age = age;
	}
	let p = myNew(Peo,"dzp",22);
	console.log(p);
</script>
</body>
</html>