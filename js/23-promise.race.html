<!DOCTYPE html>
<html>
<head>
	<title></title>
</head>
<body>
<script type="text/javascript">
	/*
	Promise.race的实现
	1.参数是一个数组，保存了每一个promise
	2.数组的任意一个promise完成后，返回状态
	*/
	Promise.race2=function(arr){
		return new Promise((resolve,reject)=>{
			let len = arr.length;
			for(let i=0;i<len;i++){
				Promise.resolve(arr[i]).then((data)=>{
					resolve(data);
				}).catch((e)=>{
					reject(e);
				})
			}
		})
	}

	let p1 =Promise.reject("error");
	let p2 = 2;
	let p3 = Promise.resolve("3");
	Promise.race2([p1,p2,p3]).then((data)=>{console.log(data)}).catch(msg=>console.log(msg));
</script>
</body>
</html>