<!DOCTYPE html>
<html>
<head>
	<title></title>
</head>
<body>
<script type="text/javascript">
	/*
	Ajax
	*/
	function getAjax(url){
		return new Promise((resolve,reject)=>{
			//1.创建xmlHttp请求
			let xhr = new XMLHttpRequest();
			//2.设置get方式
			xhr.open('GET',url);
			//3.发送球球
			xhr.send(null);
			//4.监听返回的状态码
			xhr.onreadystatechange = (e) =>{
				if(xhr.readystate===4){
					if(xhr.status===200){
						resolve(JSON.parse(xhr.responseText));
					}else if(xhr.status===404){
						reject(new Error("地址错误"));
					}
				}
			}
		})
	}


	function postAjax(url,data){
		return new Promise((resolve,reject)=>{
			//1.创建xmlHttp请求
			let xhr = new XMLHttpRequest();
			//2.设置get方式
			xhr.open('GET',url);
			//3.发送球球
			xhr.send(data);
			//4.监听返回的状态码
			xhr.onreadystatechange = (e) =>{
				if(xhr.readystate===4){
					if(xhr.status===200){
						resolve(JSON.parse(xhr.responseText));
					}else if(xhr.status===404){
						reject(new Error("地址错误"));
					}
				}
			}
		})
	}

	getAjax("./index.json").then(data=>{
		console.log(data);
	}).catch(msg=>{
		console.error(msg);
	})
</script>
</body>
</html>