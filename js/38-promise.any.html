<!DOCTYPE html>
<html>
<head>
	<title></title>
</head>
<body>
<script type="text/javascript">
	/*
	promise.any
	1.promise.all所有成功，才会执行resolve
	2.promise.race任意一个状态改变，无论成功还是失败，结果都是resolve
	3.promise.allSettled所有的都执行完，无论成功还是失败，结果都是resolve
	4.promise.any任意一个promise返回了成功，结果就是成功，如果都失败了，结果是失败
	*/
	Promise.any = function(arr){
		return new Promise((resolve,reject)=>{
			if(arr.length===0)
				resolve([]);
			let result = [];
			arr.forEach(val=>{
				Promise.resolve(val).then(data=>{
					resolve(val);
				}).catch(msg=>{
					result.push(msg);
					if(result.length===arr.length)
						reject("all error");
				})
			})
		})
	}
</script>
</body>
</html>